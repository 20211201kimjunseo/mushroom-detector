<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë²„ì„¯ ì‹ë³„ê¸°</title>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      text-align: center;
      background-color: #f7f7f7;
      padding: 30px;
    }
    h1 {
      color: #333;
    }
    .usage-guide {
      margin-top: 20px;
      color: #444;
      font-size: 17px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    img {
      margin-top: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .description-container {
      margin-top: 30px;
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .description-container img {
      max-width: 100%;
      height: auto;
    }
    .label {
      font-size: 28px;
      font-weight: bold;
      margin-top: 10px;
    }
    .text {
      font-size: 20px;
      margin-top: 10px;
      color: #555;
      white-space: pre-line;
    }
  </style>
</head>
<body>
  <h1>ë…ë²„ì„¯/ì‹ìš©ë²„ì„¯ ì‹ë³„ê¸°</h1>
  <div class="usage-guide">
    ğŸ“· ì•„ë˜ì— ë²„ì„¯ ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ë©´ ì–´ë–¤ ë²„ì„¯ì¸ì§€ ì˜ˆì¸¡í•˜ê³ ,<br>
    <strong>ì´ë¦„ + ëŒ€í‘œ ì‚¬ì§„ + íŠ¹ì§• + ìœ„í—˜ì„±</strong>ê¹Œì§€ í•¨ê»˜ ë³´ì—¬ì¤ë‹ˆë‹¤.<br><br>
    âš ï¸ ì˜ˆì¸¡ ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ ì‹ìš© ì—¬ë¶€ëŠ” ë°˜ë“œì‹œ ì „ë¬¸ê°€ì—ê²Œ í™•ì¸í•˜ì„¸ìš”.
  </div>
  <input type="file" id="imageUpload" accept="image/*">
  <br><br>
  <img id="preview" src="" width="300" style="display:none;"/>

  <div class="description-container">
    <img id="resultImage" src="" style="display:none;">
    <div class="label" id="result">ì˜ˆì¸¡ ê²°ê³¼ ì—†ìŒ</div>
    <div class="text" id="description"></div>
  </div>

  <script>
    const URL = "https://teachablemachine.withgoogle.com/models/tPNbIdtka/";
    let model, maxPredictions;

    async function init() {
      const modelURL = URL + "model.json";
      const metadataURL = URL + "metadata.json";
      model = await tmImage.load(modelURL, metadataURL);
      maxPredictions = model.getTotalClasses();
    }

    function getInfo(label) {
      const info = {
        "ì–‘ì†¡ì´ë²„ì„¯": {
          image: "10.png",
          text: "íŠ¹ì§•: í°ìƒ‰ì˜ ë‘¥ê·¼ ê°“ê³¼ ì§§ì€ ì¤„ê¸°ë¥¼ ê°€ì§„ ì‹ìš©ë²„ì„¯ì…ë‹ˆë‹¤.\nì„­ì·¨ ì‹œ ë‹¨ë°±ì§ˆê³¼ í•­ì‚°í™” ì„±ë¶„ì´ í’ë¶€í•˜ì—¬ ë©´ì—­ë ¥ ê°•í™”ì— ë„ì›€ì„ ì¤ë‹ˆë‹¤.\në¬¸ì œ ì—†ì´ ì„­ì·¨ ê°€ëŠ¥í•˜ì§€ë§Œ ë°˜ë“œì‹œ ìµí˜€ ë¨¹ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤."
        },
        "ëŠíƒ€ë¦¬ë²„ì„¯": {
          image: "106.png",
          text: "íŠ¹ì§•: íšŒìƒ‰ì˜ ê°“ê³¼ í° ì¤„ê¸°ë¥¼ ê°€ì§„ ì‹ìš©ë²„ì„¯ìœ¼ë¡œ ìš”ë¦¬ì— ìì£¼ ì‚¬ìš©ë©ë‹ˆë‹¤.\në‹¨ë°±ì§ˆê³¼ ì‹ì´ì„¬ìœ ê°€ í’ë¶€í•˜ì—¬ ì‹¬í˜ˆê´€ ê±´ê°•ì— ì¢‹ìŠµë‹ˆë‹¤.\në³´ê´€ ì‹œ ì‰½ê²Œ ë¬¼ëŸ¬ì§€ë¯€ë¡œ ëƒ‰ì¥ ë³´ê´€í•˜ì„¸ìš”."
        },
        "ê´‘ëŒ€ë²„ì„¯": {
          image: "Amanita muscaria_12.jpg",
          text: "íŠ¹ì§•: ì„ ëª…í•œ ë¹¨ê°„ìƒ‰ ê°“ì— í° ë°˜ì ì´ ìˆëŠ” ì™¸í˜•ì´ íŠ¹ì§•ì¸ ë…ë²„ì„¯ì…ë‹ˆë‹¤.\nì„­ì·¨ ì‹œ í™˜ê°, êµ¬í† , ë°œì‘ì„ ìœ ë°œí•˜ë©° ì†ŒëŸ‰ë§Œ ë¨¹ì–´ë„ ì¤‘ë…ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì ˆëŒ€ ì„­ì·¨í•˜ì§€ ë§ê³ , ì ‘ì´‰ í›„ ì†ì„ ì”»ì–´ì•¼ í•©ë‹ˆë‹¤."
        },
        "ê°€ì„í™©í† ë²„ì„¯": {
          image: "Galerina marginata_1.jpg",
          text: "íŠ¹ì§•: ë…¸ë€ìƒ‰ì—ì„œ ê°ˆìƒ‰ë¹›ì˜ ì‘ì€ ê°“ì„ ê°€ì§„ ì¹˜ëª…ì ì¸ ë…ë²„ì„¯ì…ë‹ˆë‹¤.\nì„­ì·¨ ì‹œ ê°„ ì†ìƒ ë° ì‹ ì¥ ê¸°ëŠ¥ ì €í•˜ë¥¼ ìœ ë°œí•˜ê³ , ì¤‘ì¦ì¼ ê²½ìš° ì‚¬ë§ì— ì´ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\níŒ½ì´ë²„ì„¯ê³¼ ë¹„ìŠ·í•˜ê²Œ ìƒê²¨ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤."
        },
        "ë…¹ìƒ‰í¬ì ìš°ì‚°ë²„ì„¯": {
          image: "Amanita brunnescens_1.jpg",
          text: "íŠ¹ì§•: ê°“ì€ ê°ˆìƒ‰ ë˜ëŠ” í™©ê°ˆìƒ‰ì´ê³ , í‘œë©´ì€ ë§¤ë„ëŸ½ìŠµë‹ˆë‹¤.\nì„­ì·¨ ì‹œ ë³µí†µ, êµ¬í† , ì„¤ì‚¬ ë“±ì˜ ìœ„ì¥ ì¥ì• ë¥¼ ì¼ìœ¼í‚¤ë©°, ì‹¬í•˜ë©´ ì…ì› ì¹˜ë£Œê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì‹ìš©ë²„ì„¯ê³¼ í˜¼ë™í•˜ê¸° ì‰¬ì›Œ íŠ¹íˆ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤."
        }
      };
      return info[label] || { image: '', text: 'ì •ë³´ ì—†ìŒ' };
    }

    document.getElementById("imageUpload").addEventListener("change", async function (event) {
      const file = event.target.files[0];
      if (!file) return;

      const image = document.getElementById("preview");
      image.src = URL.createObjectURL(file);
      image.style.display = "block";

      const prediction = await model.predict(image);
      prediction.sort((a, b) => b.probability - a.probability);

      const best = prediction[0];
      const info = getInfo(best.className);

      document.getElementById("result").innerText = `ì˜ˆì¸¡ ê²°ê³¼: ${best.className} (${(best.probability * 100).toFixed(1)}%)`;
      const resultImage = document.getElementById("resultImage");
      resultImage.src = info.image;
      resultImage.style.display = "block";

      document.getElementById("description").innerText = info.text;
    });

    window.onload = init;
  </script>
</body>
</html>
